# ===========================================
# ConfiguraÃ§Ã£o de Agendamentos
# ===========================================
# Copie este arquivo para config.yaml e ajuste conforme necessÃ¡rio

# ConfiguraÃ§Ãµes da Evolution API
# (pode usar variÃ¡veis de ambiente com ${VAR})
evolution:
  baseUrl: "${EVOLUTION_API_URL}"
  apiKey: "${EVOLUTION_API_KEY}"
  instanceName: "${EVOLUTION_INSTANCE}"

# ConfiguraÃ§Ãµes gerais
settings:
  # Timezone para os agendamentos
  timezone: "America/Sao_Paulo"

  # Delay entre mensagens para o mesmo grupo (ms)
  delayBetweenMessages: 3000

  # Delay entre grupos diferentes (ms)
  delayBetweenGroups: 5000

  # Timeout para carregamento da pÃ¡gina (ms)
  pageTimeout: 30000

  # Tempo extra de espera apÃ³s carregar (ms)
  waitAfterLoad: 2000

# ConfiguraÃ§Ãµes do browser
browser:
  # Headless mode (sempre true em produÃ§Ã£o)
  headless: true

  # Viewport padrÃ£o
  defaultViewport:
    width: 1920
    height: 1080

# Lista de agendamentos
schedules:
  # -----------------------------------------
  # Exemplo 1: Metas diÃ¡rias de vendas
  # -----------------------------------------
  - name: "Metas DiÃ¡rias - Vendas"
    # URL da planilha Google Sheets (deve estar pÃºblica ou acessÃ­vel)
    sheetUrl: "https://docs.google.com/spreadsheets/d/SEU_SPREADSHEET_ID/edit#gid=0"

    # Lista de grupos do WhatsApp (formato: numero@g.us)
    # Para obter o ID: Evolution API GET /group/fetchAllGroups/{instance}
    groups:
      - "5511999999999@g.us"
      - "5511888888888@g.us"

    # ExpressÃ£o cron: minuto hora dia mÃªs dia-semana
    # Este exemplo: 9h de segunda a sexta
    cron: "0 9 * * 1-5"

    # Viewport especÃ­fico para este agendamento (opcional)
    viewport:
      width: 1920
      height: 1080

    # Seletor CSS para capturar regiÃ£o especÃ­fica (opcional)
    # Se nÃ£o informado, captura a pÃ¡gina inteira
    # selector: ".grid-container"

    # Template da mensagem
    # VariÃ¡veis disponÃ­veis: {{date}}, {{time}}, {{datetime}}, {{week}}, {{weekday}}, {{scheduleName}}
    messageTemplate: |
      ğŸ“Š *AtualizaÃ§Ã£o de Metas - {{date}}*

      Segue o relatÃ³rio diÃ¡rio de vendas.

      Bom dia a todos! ğŸš€

  # -----------------------------------------
  # Exemplo 2: Resumo semanal
  # -----------------------------------------
  - name: "Resumo Semanal"
    sheetUrl: "https://docs.google.com/spreadsheets/d/OUTRO_SPREADSHEET_ID/edit#gid=0"
    groups:
      - "5511777777777@g.us"
    # Toda segunda-feira Ã s 8h
    cron: "0 8 * * 1"
    messageTemplate: |
      ğŸ“ˆ *Resumo Semanal - Semana {{week}}*

      Confira nosso desempenho da semana!

      {{weekday}}, {{date}}

  # -----------------------------------------
  # Exemplo 3: MÃºltiplos envios por dia
  # -----------------------------------------
  # - name: "AtualizaÃ§Ã£o ManhÃ£ e Tarde"
  #   sheetUrl: "https://docs.google.com/spreadsheets/d/ID/edit"
  #   groups:
  #     - "5511666666666@g.us"
  #   # 9h e 15h de segunda a sexta
  #   cron: "0 9,15 * * 1-5"
  #   messageTemplate: |
  #     â° AtualizaÃ§Ã£o das {{time}}
  #
  #     Confira os nÃºmeros atualizados!

# ===========================================
# ReferÃªncia de ExpressÃµes Cron
# ===========================================
# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minuto (0 - 59)
# â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ hora (0 - 23)
# â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ dia do mÃªs (1 - 31)
# â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ mÃªs (1 - 12)
# â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ dia da semana (0 - 6) (Domingo = 0)
# â”‚ â”‚ â”‚ â”‚ â”‚
# * * * * *
#
# Exemplos:
# "0 9 * * 1-5"     = 9h de segunda a sexta
# "0 8 * * 1"       = 8h toda segunda
# "0 18 * * *"      = 18h todos os dias
# "0 9,14,18 * * *" = 9h, 14h e 18h todos os dias
# "*/30 * * * *"    = A cada 30 minutos
# "0 */2 * * *"     = A cada 2 horas (hora cheia)
